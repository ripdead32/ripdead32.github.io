<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Rip_Dead Site - Search</title>
<link rel="icon" href="/favicon.ico">
<style>
body { margin:0; padding:0; background:black; color:#00ff00; font-family:"Courier New", monospace; text-align:center; }
h1 { font-size:2em; margin-top:60px; text-shadow:0 0 10px #00ff00; }
input, button { margin:10px; padding:10px; border:2px solid #00ff00; border-radius:5px; background:black; color:#00ff00; font-family:inherit; font-size:1em; }
button:hover { transform: scale(1.05); cursor:pointer; }
ul { list-style:none; padding:0; }
li a { color:#00ff00; text-decoration:none; }
li a:hover { text-shadow:0 0 8px #00ff00; }
footer { font-size:12px; text-align:center; margin-top:50px; }
</style>
</head>
<body>

<h1>Search Users</h1>

<div>
    <input type="text" id="query" placeholder="Username" />
    <button onclick="search()">Search</button>
</div>

<ul id="results"></ul>

<hr>

<footer>(C) Copyright Rip_Dead Studios 2026, All Rights Reserved</footer>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const SUPABASE_URL = "https://uuvddjdbflwtbrbcgttj.supabase.co";
const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV1dmRkamRiZmx3dGJyYmNndHRqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE2MTAzNTIsImV4cCI6MjA4NzE4NjM1Mn0.b_betmbrXem0_EwtXCoXRLU7E2w2KEKJKVncQ9f0dVE";
const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

async function search() {
    const query = document.getElementById('query').value.trim();
    if(!query){ alert("Enter a username"); return; }
    const { data, error } = await supabase.auth.admin.listUsers(); // Supabase does not allow searching normally in auth, this would require storing usernames in a separate table if needed
    if(error){ console.error(error); return; }

    const results = data.users.filter(u => u.user_metadata.username && u.user_metadata.username.toLowerCase().includes(query.toLowerCase()));
    const ul = document.getElementById('results');
    ul.innerHTML = "";
    results.forEach(u => {
        const li = document.createElement('li');
        li.innerHTML = `<a href="/users/${u.user_metadata.username}">${u.user_metadata.username}</a>`;
        ul.appendChild(li);
    });
}
</script>
</body>
</html>
